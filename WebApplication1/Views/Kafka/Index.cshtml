@using System.Linq
@model List<string>

@{
    ViewData["Title"] = "Kafka Messages & Send Message";
}

<h2>@ViewData["Title"]</h2>

<div class="alert alert-info">
    @TempData["Status"]
</div>

<div class="row">

    <div class="col-md-6">
        <h3>Messages:</h3>
        <ul class="list-group">
            @if (Model != null && Model.Any())
            {
                foreach (var message in Model)
                {
                    <li class="list-group-item">@message</li>
                }
            }
            else
            {
                <li class="list-group-item">No messages found.</li>
            }
        </ul>
        <button class="btn btn-info mt-3" onclick="window.location.reload();">Refresh Messages</button>
    </div>

    <div class="col-md-6">
        <h3>Send Message to Kafka</h3>
        <form asp-action="SendMessage" method="post">
            <div class="form-group">
                <label for="message">Message</label>
                <textarea class="form-control" id="message" name="message" rows="4"></textarea>
            </div>
            <button type="submit" class="btn btn-primary mt-3">Send Message</button>
        </form>
    </div>
</div>
